<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
</head>
<body>

<h3>Smarty简介</h3>
&lt;p&gt;链接地址：https://blog.csdn.net/wulove52/article/details/52373764&lt;/p&gt;&lt;p&gt;概述：在引擎中，Smarty将模板“编译”（基于复制和转换）成PHP脚本。它只会发生一次，当第一次读取模板的时候，指针前进时调取编译版本，Smarty帮你保管它，因此模板设计者只需要编辑Smarty模板，而不必管理编译版本。这也使得模板很容易维护，而执行速度非常快，因为它只是PHP。如果开启模板缓存，则直接运行缓存的静态页面，而不再去执行PHP的应用程序（没有反复链接数据库和执行大量SQL语句的动作）,大大提高了页面的访问速度。&lt;br&gt;--------------------- &lt;br&gt;&lt;/p&gt;&lt;p&gt;Smarty模板引擎优点：&lt;br&gt;1.&lt;span style=&quot;font-weight: bold;&quot;&gt;速度&lt;/span&gt;：相对于其他的模板引擎技术而言，采用Smarty编写的程序可以获取最大速度的提高，最主要的是可以提高开发速度，程序员、美工能够快速开发部署，易于维护。&lt;br&gt;2.&lt;span style=&quot;font-weight: bold;&quot;&gt;编译型&lt;/span&gt;：采用Smarty编写的程序运行时要编译(组合)成一个非模板技术的PHP文件，这个文件采用PHP和HTML混合的方式，在下一次访问模板时将Web请求直接转换到这个文件中，而不再进行模板重新编译(在源程序没有改动的情况下)，使后续的调用速度更快&lt;br&gt;3.&lt;span style=&quot;font-weight: bold;&quot;&gt;缓存技术&lt;/span&gt;：Smarty提供了一个可选择使用的缓存技术，它可以将用户最终看到的HTML文件缓存成一个静态的HTML页面。当用户开启Smarty缓存时，并在设定的时间内，将用户的Web请求直接转换到这个静态的HTML文件中来，这相当于调用一个静态的HTML文件。&lt;br&gt;4.&lt;span style=&quot;font-weight: bold;&quot;&gt;插件技术&lt;/span&gt;：Smarty模板引擎是采用PHP面向对象技术实现的，不仅可以在源代码中修改，还可以自定义一些功能插件（就是一些按规则自定义的功能函数）。&lt;br&gt;5.&lt;span style=&quot;font-weight: bold;&quot;&gt;强大的表现逻辑&lt;/span&gt;：PHP负责后台，Smarty模板负责前端。在Smarty模板中能够通过条件判断及迭代地处理数据，它实际上也是一种自定义的程序设计语言，客户在开发中富有弹性。并抛弃应用程序中PHP与其他语言杂糅的描述方式，使之统一样式，从PHP独立出来，比较安全，另外，语法简单，容易理解，不必具备PHP知识。&lt;br&gt;6.&lt;span style=&quot;font-weight: bold;&quot;&gt;模板继承&lt;/span&gt;：模板的继承是Smarty 3的新事物，它也是诸多伟大新特性之一。在模板继承里，我们将保持模板作为独立页面而不用加载其他页面，可以操纵内容块继承它们。这使得模板更直观，更有效和易管理。&lt;br&gt;--------------------- &lt;br&gt;&lt;/p&gt;&lt;p&gt;四、安装Smarty及初始化配置&lt;/p&gt;&lt;p&gt;&lt;br&gt;概要：&lt;br&gt;Smarty的安装比较容易，因为它不属于PHP的应用扩展模块，只是采用PHP面向对象思想编写的软件，只要在我们&lt;br&gt;的PHP脚本中加载Smarty类，并创建一个Smarty对象，就可以使用Smarty模板引擎了。&lt;br&gt;&lt;br&gt;安装：&lt;br&gt;步骤如下：&lt;br&gt;1.需要到Smarty官网http://www.smarty.net/download.php下载最新稳定版本，所有版本的Smarty类库都可以&lt;br&gt;在UNIX和Windows服务器上使用。&lt;br&gt;2.然后解压压缩包，解开后看到很多文件，其中有一个名称为libs的文件夹，就是存有Smarty类库的文件夹。其他&lt;br&gt;文件可以删除，把libs目录拷贝到需要使用的位置。&lt;br&gt;3.在libs中应该会有Smarty.class.php和SmartyBC.class.php两个文件、一个debug.tpl、一个自定义插件plugins&lt;br&gt;文件夹(外部使用可以扩充)和一个系统插件sysplugins文件夹(内部插件)。直接将libs目录赋值指定的位置&lt;br&gt;（libs可以改名，不建议更改）&lt;br&gt;4.在执行的PHP脚本中，通过&lt;span style=&quot;font-weight: bold;&quot;&gt;require()语句或include()语句将libs目录中的Smarty.class.php类文件加载进来&lt;/span&gt;，&lt;br&gt;Smarty类库就可以使用了（注意Smarty.class.php中的‘S’大写），其他的类文件都会在Smarty类中自动&lt;br&gt;加载完成。&lt;br&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;注意：Smarty3.0必须在PHP5以上的版本运行。&lt;/span&gt;&lt;br&gt;&lt;br&gt;初始化类库的默认设置：&lt;br&gt;&lt;/p&gt;&lt;p&gt;&amp;lt;?php&lt;br&gt;//一个简单的smarty示例&lt;br&gt;//穿内裤&lt;br&gt;include './libs/Smarty.class.php';&lt;br&gt;&lt;br&gt;//实例化对象&lt;br&gt;$smarty = new Smarty();&lt;br&gt;&lt;br&gt;//修改默认配置&lt;br&gt;&lt;br&gt;//定界符&lt;br&gt;$smarty-&amp;gt;setLeftDelimiter('&amp;lt;{'); //方法设置推荐&lt;br&gt;//$smarty-&amp;gt;left_delimiter = '&amp;lt;{'; //属性设置&lt;br&gt;$smarty-&amp;gt;right_delimiter = '}&amp;gt;'; //属性设置&lt;br&gt;&lt;br&gt;//设置模板路径&lt;br&gt;$smarty-&amp;gt;setTemplateDir('./view');&lt;br&gt;&lt;br&gt;//设置编译后文件路径&lt;br&gt;$smarty-&amp;gt;setCompileDir('./runtime/view_c');&lt;br&gt;&lt;br&gt;//设置缓存路径(要开启缓存这个目录才会被使用)&lt;br&gt;$smarty-&amp;gt;setCacheDir('./runtime/cache');&lt;br&gt;&lt;br&gt;//设置配置文件路径&lt;br&gt;$smarty-&amp;gt;setConfigDir('./config');&lt;br&gt;&lt;br&gt;&lt;br&gt;//分配数据&lt;br&gt;$smarty-&amp;gt;assign('title','good');&lt;br&gt;&lt;br&gt;//调用模板&lt;br&gt;$smarty-&amp;gt;display('1.html');&lt;br&gt;?&amp;gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;init.inc.php&amp;nbsp;&lt;br&gt;//初始化Smarty成员属性的公用文件init.inc.php&lt;br&gt;define('ROOT',str_replace(&quot;\\&quot;,&quot;/&quot;,dirname(_FILE_)),'/'); //指定项目的根路径&lt;br&gt;require ROOT.'libs/Smarty.class.php'; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //加载smarty类文件&lt;br&gt;$smarty = new Smarty(); //实例化smarty类对象$smarty&lt;br&gt;&lt;br&gt;/*推荐使用smarty3以上版本方式设置默认路径，设置成功后都返回$smarty对象本身，可以使用连贯操作 */&lt;br&gt;$smarty-&amp;gt;setTemplateDir(ROOT.'templates/'); &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//设置所有模板文件存放的目录&lt;br&gt;// &amp;nbsp; &amp;nbsp; -&amp;gt;addTemplateDir(ROOT.'templates2') &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //可以添加多个模板目录（前后台各一个）&lt;br&gt;&amp;nbsp; -&amp;gt;setCompileDir(ROOT.'templates_c/')//设置所有编译过的模板文件存放目录&lt;br&gt;&amp;nbsp; -&amp;gt;setPluginsDir(ROOT.'plugins/')//设置模板扩充插件存放目录&lt;br&gt;&amp;nbsp; -&amp;gt;setCacheDir(ROOT.'cache/')//设置缓存文件存放的目录(开启缓存才被使用)&lt;br&gt;&amp;nbsp; -&amp;gt;setConfigDir(ROOT.'configs'); &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//设置模板配置文件存放的目录&lt;br&gt;&amp;nbsp;&amp;nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&lt;br&gt;$smarty-&amp;gt;caching = false; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//设置smarty缓存开关1开启 0 关闭 ture开启 false 关闭&lt;br&gt;$smarty-&amp;gt;cache_lifetime = 60*60*24 &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //设置模板缓存有时间段的长度为1天&lt;br&gt;$smarty-&amp;gt;left_delimiter = '&amp;lt;{'; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//设置模板语言中的左结束符号&lt;br&gt;$smarty-&amp;gt;right_delimiter = '}&amp;gt;'; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //设置模板语言中的右结束符号&lt;br&gt;&lt;br&gt;/*初始化配置说明*/&lt;br&gt;//smarty2时的设置方式：&lt;br&gt;/*&lt;br&gt;$smarty-&amp;gt;template_dir = &quot;./templates&quot;; &amp;nbsp; &amp;nbsp;//设置模板目录，2.0设置方法，3.0沿用但不支持&lt;br&gt;$smarty-&amp;gt;compile_dir = &quot;./templates_c&quot;; &amp;nbsp; &amp;nbsp;//设置编译目录。2.0设置方法，3.0沿用但不init持&lt;br&gt;$smarty-&amp;gt;config_dir = &quot;./configs/&quot;;&amp;nbsp;//设置编译目录。2.0设置方法，3.0沿用但不支持&lt;br&gt;$smarty-&amp;gt;cache_dir = &quot;./cache/&quot;;&amp;nbsp;//设置编译目录。2.0设置方法，3.0沿用但不支持&lt;br&gt;*/&lt;br&gt;&lt;br&gt;//smarty3对属性进行了封装，可以使用如下方法进行访问获得目录&lt;br&gt;$smarty-&amp;gt;getCacheDir(); &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//得到当前缓存目录路径&lt;br&gt;$smarty-&amp;gt;getTemplateDir();&amp;nbsp; //得到当前模板目录路径的数组&lt;br&gt;$smarty-&amp;gt;getConfigDir(); &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //得到当前配置文件目录路径&lt;br&gt;$smarty-&amp;gt;getCompileDir(); &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//得到当前编译目录路径&lt;br&gt;$smarty-&amp;gt;getPluginsDir(); &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//得到当前插件目录路径数组&lt;br&gt;&lt;br&gt;//同样下面的方法进行目录设置：&lt;br&gt;//设置新的模板目录，注意设置后模板目录的数组只有该值一个，不管原来有几个值&lt;br&gt;$smarty-&amp;gt;setTemplateDir(&quot;./templates/&quot;);&lt;br&gt;$smarty-&amp;gt;setCompileDir(&quot;./templates_c/&quot;); &amp;nbsp; &amp;nbsp;//设置新的编译目录&lt;br&gt;$smarty-&amp;gt;setConfigDir(&quot;./configs/&quot;); &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //设置新的配置文件目录&lt;br&gt;$smarty-&amp;gt;setCacheDir(&quot;./cache/&quot;);//设置新的缓存目录&lt;br&gt;$smarty-&amp;gt;setLeftDelimiter('&amp;lt;{'); &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//方法设置推荐&lt;br&gt;$smarty-&amp;gt;setRightDelimiter('&amp;lt;{'); &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //方法设置推荐&lt;br&gt;//引用的模板文件的路径必须在模板目录数组中，否则报错，由于仍然用原来的模板文件，这样模板数组中有两个路径。&lt;br&gt;$smarty-&amp;gt;addTemplateDir('./templates2/');&lt;br&gt;//添加一个新的插件目录，如果用set将取消插件数组，变为单指&lt;br&gt;$smarty-&amp;gt;addPluginsDir('./myplugins');&lt;br&gt;&lt;br&gt;//说明：这些Smarty对象中的设置方法，设置成功后返回的还是Smarty类对象($this),所以可以像&lt;br&gt;//init.inc.php脚本中应用的方式一样，采用对象连贯操作方式部署smarty路径。&lt;br&gt;/*初始化配置说明*/&lt;br&gt;&lt;br&gt;&lt;br&gt;五、Smarty的基本应用&lt;br&gt;&lt;br&gt;&lt;br&gt;概述：Smarty引擎既然是分离Web应用程序逻辑层和表现层的工具，目的也是让应用程序员和美工分开扮演不同的角色。&lt;br&gt;所以程序员和美工都需要学习和使用Smarty,但是学习的内容方向有所不同。&lt;br&gt;作为程序员需要学习Smarty的“模板程序员篇”，美工学习Smarty的“模板设计篇”，&lt;br&gt;&lt;br&gt;&lt;br&gt;模板程序员篇&lt;br&gt;&lt;br&gt;&lt;br&gt;Smarty引擎的安装&lt;br&gt;&lt;br&gt;&lt;br&gt;变量的分配和加载显示模板&lt;br&gt;&lt;br&gt;&lt;br&gt;assign()&lt;br&gt;&lt;br&gt;&lt;br&gt;分配数据：（第四步）&lt;br&gt;语法：&lt;br&gt;void assign(string varname, mixed var) &amp;nbsp;//传递一对名称/数组对到模板中&lt;br&gt;void assign(mixed var) &amp;nbsp;//传递包含名称/数值的关联数组到模板中使用&lt;br&gt;$smarty-&amp;gt;assign('title','这是一个标题');&lt;br&gt;$smarty-&amp;gt;assign('title',$title);&lt;br&gt;&amp;nbsp; &amp;nbsp;$arr = array(&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 1=&amp;gt;'lamp85',&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 3=&amp;gt;'lamp83',&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 7=&amp;gt;'lamp81',&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 9=&amp;gt;'lamp89'&lt;br&gt;&amp;nbsp; &amp;nbsp; );&lt;br&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; $smarty-&amp;gt;assign('grade',$arr);&lt;br&gt;&lt;br&gt;display()&lt;br&gt;&lt;br&gt;调用显示模板：一个脚本中只能使用一次；&lt;br&gt;viod display(string template)&lt;br&gt;&lt;/p&gt;
</body>
</html>